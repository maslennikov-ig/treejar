# Что требуется от клиента

**Дата:** 2026-02-23
**Статус:** Оплата получена (150K), разработка стартует

---

## Что уже получено

Спасибо за оперативность -- большая часть материалов уже у нас:

| # | Материал | Статус |
|---|----------|--------|
| 1 | Zoho CRM -- API-ключи (Client ID, Secret, Refresh Token) | Получено |
| 2 | Zoho Inventory -- API-ключи + Organization ID | Получено |
| 3 | Wazzup -- API Key | Получено |
| 4 | Bazara.ae (Shopify) -- API Key + Secret | Получено |
| 5 | Правила ведения диалогов (17 правил, RU + EN) | Получено |
| 6 | Ценности компании (14 ценностей по приоритету) | Получено |
| 7 | FAQ (20 вопросов-ответов) | Получено |
| 8 | Методика оценки качества (15 правил, шкала 0-2, макс 30) | Получено |
| 9 | Метрики (17 метрик + follow-up периоды) | Получено |
| 10 | Статистика обращений (20 месяцев данных) | Получено |
| 11 | Примеры диалогов (59 скриншотов, 13 классифицированных диалогов) | Получено |
| 12 | Образцы КП (4 PDF: 12K-161K AED + анализ структуры) | Получено |
| 13 | Ответы на чек-лист (20 вопросов: CRM-поля, сегменты, эскалация, воронка) | Получено |
| 14 | Контакты отдела продаж (7 менеджеров с телефонами и email) | Получено |

---

## Что ещё нужно

### Срочно (блокирует разработку)

| # | Что нужно | Стоимость | Когда | Статус |
|---|-----------|-----------|-------|--------|
| 1 | ~~Supabase Cloud~~ → **Self-hosted PostgreSQL** | $0 | ~~Сейчас~~ | **ГОТОВО** — PostgreSQL 16 развёрнут на Hetzner (порт 5435) |
| 2 | OpenRouter (AI-модели) | $10-20 для тестов | К неделе 2 | Ожидает |

### К деплою (неделя 8)

| # | Что нужно | Стоимость | Когда | Статус |
|---|-----------|-----------|-------|--------|
| 4 | ~~VPS-сервер (Hetzner)~~ | ~~$10-15/мес~~ $0 | ~~К неделе 7-8~~ | **ГОТОВО** — используется существующий Hetzner dedicated (136.243.71.213), контейнер `treejar-server` |
| 5 | Домен для API (опционально) | ~500 руб/год | К неделе 8 | Можно использовать `treejar.starec.ai` через Cloudflare |

### Материалы по ходу разработки

| # | Что нужно | Когда | Зачем |
|---|-----------|-------|-------|
| 6 | Типичные возражения клиентов и ответы менеджеров | К неделе 3-4 | Обучение бота работе с возражениями ("Дорого", "Долгая доставка" и т.д.) |
| 7 | Таблица спеццен / скидок (если есть VIP-условия) | К неделе 5-6 | Персонализация цен по сегментам клиентов |
| 8 | Параметры реферальной программы | К неделе 12 | Размер скидки, бонусы, условия |

**Итого ежемесячно на инфраструктуру:** ~$20-40 (OpenRouter ~$20-40 по расходу). VPS и PostgreSQL — $0 (используется существующий сервер клиента).

---

## 1. Supabase Cloud (база данных) -- НУЖНО СЕЙЧАС

Supabase -- это облачная база данных PostgreSQL. Бесплатный тариф достаточен для разработки и тестирования.

### Два варианта (на выбор)

**Вариант 1 (самостоятельно):** Вы регистрируетесь, создаёте проект по инструкции ниже и передаёте нам данные (Project URL, ключи, пароль БД).

**Вариант 2 (проще):** Вы только регистрируетесь на https://supabase.com и присылаете нам логин и пароль от аккаунта. Мы сами создадим проект, настроим базу и всё остальное.

### Пошаговая инструкция (вариант 1)

**Шаг 1. Регистрация**
1. Откройте https://supabase.com
2. Нажмите **Start your project** (зелёная кнопка)
3. Нажмите **Continue with GitHub** или **Continue with Email**
   - Если выбрали Email: введите email и пароль, подтвердите email
   - Если выбрали GitHub: авторизуйте приложение Supabase

**Шаг 2. Создание организации**
1. После входа Supabase предложит создать Organization
2. Введите название: `Treejar`
3. Plan: выберите **Free** (0$/мес, 500 MB, 2 проекта)
4. Нажмите **Create organization**

**Шаг 3. Создание проекта**
1. Нажмите **New Project**
2. Заполните:

| Поле | Значение |
|------|----------|
| Name | `treejar-bot` |
| Database Password | Придумайте надёжный пароль (минимум 12 символов). **Обязательно сохраните его** -- потом его нельзя будет посмотреть! |
| Region | **Central EU (Frankfurt)** -- ближе к Zoho EU и будущему VPS |

3. Нажмите **Create new project**
4. Подождите 1-2 минуты, пока проект создаётся

**Шаг 4. Соберите данные для нас**

После создания проекта перейдите в **Settings** (значок шестерёнки в левом меню) > **API**:

| Что скопировать | Где найти |
|----------------|-----------|
| **Project URL** | Поле "Project URL" (выглядит как `https://xxxxxxxxxx.supabase.co`) |
| **anon public key** | В разделе "Project API keys" -- строка `anon` `public` |
| **service_role key** | Там же -- строка `service_role` `secret` (нажмите на иконку глаза, чтобы показать) |

Также нужен **Database Password**, который вы придумали на шаге 3.

Передайте нам эти 4 значения через защищённый канал (см. раздел "Как безопасно передать ключи" внизу документа).

**Шаг 5. Включение pgvector (опционально -- мы можем сделать сами)**
1. В левом меню нажмите **Database**
2. Перейдите во вкладку **Extensions**
3. В поиске введите `vector`
4. Найдите **vector** и нажмите переключатель, чтобы включить

---

## 2. OpenRouter (AI-модели) -- НУЖНО К НЕДЕЛЕ 2

OpenRouter -- это агрегатор AI-моделей (Claude, GPT-4, Gemini и др.) с единым API. Бот использует его для генерации ответов клиентам.

### Какую модель используем

**DeepSeek V3.2** (`deepseek/deepseek-chat`) -- выбрана после детального исследования:

- **Стоимость:** ~$0.27 за 1M входящих токенов, ~$1.10 за 1M исходящих. Это в 10-15 раз дешевле моделей Claude/GPT-4o при сопоставимом качестве для задач продаж
- **Мультиязычность:** отличная поддержка EN и AR
- **Tool calling:** поддерживает вызов функций (поиск товаров, проверка остатков, создание сделок)
- **Расход:** при 200 диалогах/день -- ~$20-40/мес (вместо ~$200-400 на Claude/GPT-4o)

Через OpenRouter мы можем переключить модель на любую другую в любой момент без изменения кода -- достаточно поменять одну настройку.

### Что нам нужно от вас

API Key и пополненный баланс ($10-20 для тестов).

### Пошаговая инструкция

**Шаг 1. Регистрация**
1. Откройте https://openrouter.ai
2. Нажмите **Sign In** (правый верхний угол)
3. Выберите способ входа: Google, GitHub или Email
4. Если выбрали Email -- введите адрес, придёт письмо с ссылкой для входа

**Шаг 2. Создание API-ключа**
1. После входа нажмите на аватарку (правый верхний угол) > **Keys**
2. Или перейдите напрямую: https://openrouter.ai/settings/keys
3. Нажмите **Create Key**
4. Введите название: `treejar-bot`
5. Нажмите **Create**
6. **Скопируйте ключ** (начинается с `sk-or-v1-...`). Он показывается только один раз!

**Шаг 3. Пополнение баланса**
1. Перейдите в **Settings** > **Credits** (или https://openrouter.ai/settings/credits)
2. Нажмите **Add Credits**
3. Введите сумму: **$10** (для начала этого достаточно)
4. Оплатите картой Visa/Mastercard

Передайте нам API Key через защищённый канал.

**Расход:** При тестировании ~$0.005-0.02 за диалог (DeepSeek V3.2). $10 хватит на тысячи тестовых диалогов. В production при 200 диалогов/день -- примерно $20-40/мес.

---

## 3. VPS-сервер (Hetzner Cloud) -- НУЖНО К НЕДЕЛЕ 7-8

VPS -- это виртуальный сервер, на котором будет работать бот. Мы рекомендуем Hetzner -- немецкий хостинг с хорошим соотношением цены и качества. На первых неделях VPS не нужен -- мы разрабатываем и тестируем локально.

### Что нам нужно от вас

Доступ к серверу (IP-адрес и root-пароль или SSH-ключ). Мы сами всё настроим.

### Пошаговая инструкция

**Шаг 1. Регистрация**
1. Откройте https://www.hetzner.com/cloud
2. Нажмите **Sign Up** (правый верхний угол)
3. Введите email и пароль
4. Подтвердите email (придёт письмо)
5. После входа Hetzner попросит привязать способ оплаты -- карту Visa/Mastercard или PayPal

**Шаг 2. Создание сервера**
1. После входа вы попадёте в **Cloud Console** (https://console.hetzner.cloud)
2. Нажмите **+ Create a Project** (если нужно), назовите его `treejar`
3. Внутри проекта нажмите **Add Server**
4. Выберите параметры:

| Параметр | Значение | Почему |
|----------|----------|--------|
| Location | **Helsinki** или **Falkenstein** | Ближе к Европе, хороший пинг до UAE |
| Image | **Ubuntu 24.04** | Стабильная ОС |
| Type | **CPX21** (3 vCPU, 4 GB RAM, 80 GB SSD) | Достаточно для MVP. Можно потом масштабировать |
| Networking | Public IPv4 + IPv6 | Оставить по умолчанию |
| SSH Key | Можно пропустить | Мы настроим сами |

5. Внизу страницы нажмите **Create & Buy Now**
6. Стоимость: около **$7-10/мес** (CPX21) или **$14-18/мес** (CPX31, если хотим запас)

**Шаг 3. Передайте нам данные**

После создания сервера на экране появится:
- **IP-адрес** (например: 167.235.XX.XX)
- **Root-пароль** (если не использовали SSH-ключ -- придёт на email)

Передайте нам эти данные через защищённый канал.

---

## 4. Домен для API (опционально) -- К НЕДЕЛЕ 8

Домен нужен для HTTPS-адреса бота (например, `api.treejar.com`). На первом этапе можно обойтись IP-адресом сервера -- бот будет работать и так.

### Если решите настроить домен

**Вариант A: Поддомен от существующего домена (рекомендуется)**

Если у вас уже есть домен `treejar.com`:
1. Войдите в панель управления DNS вашего домена (GoDaddy, Namecheap, Cloudflare и т.д.)
2. Добавьте **A-запись**:
   - Type: `A`
   - Name: `api` (или `bot`)
   - Value: IP-адрес VPS (мы дадим)
   - TTL: 3600
3. Сохраните. DNS обновится в течение 5-60 минут

**Вариант B: Без домена**

Бот будет доступен по IP-адресу. Мы настроим SSL-сертификат и HTTPS в любом случае.

---

## 5. Настройка Wazzup Webhook -- СДЕЛАЕМ ВМЕСТЕ (после деплоя)

API-ключ Wazzup уже у нас. Webhook настроим вместе, когда VPS будет готов:

1. Войдите в личный кабинет Wazzup: https://app.wazzup24.com
2. Перейдите в **Settings** / **Настройки** > **Webhooks**
3. В поле URL введите адрес, который мы вам дадим (вида `https://api.treejar.com/api/v1/webhook/wazzup`)
4. Убедитесь, что включены события: **Incoming messages** (входящие сообщения)
5. Нажмите **Save** / **Сохранить**

---

## Как безопасно передать ключи и пароли

**Не отправляйте ключи через обычный email, WhatsApp или SMS.**

Рекомендуемые способы:

| Способ | Как использовать |
|--------|-----------------|
| **Password Pusher** (самый простой) | Откройте https://pwpush.com, вставьте текст с ключами, установите "Expire after 1 view", нажмите Submit, отправьте нам ссылку |
| **1Password / Bitwarden** | Создайте Secure Note с ключами и поделитесь через встроенную функцию Share |
| **Telegram** (Secret Chat) | Откройте диалог со мной в Telegram > три точки > Start Secret Chat. Сообщения удалятся автоматически |

---

## Итоговый чек-лист

### Уже сделано
```
[x] Zoho CRM -- API-ключи переданы
[x] Zoho Inventory -- API-ключи + Org ID переданы
[x] Wazzup -- API Key передан
[x] Правила диалогов, ценности, FAQ, метрики, примеры -- всё получено
[x] Сервер -- контейнер treejar-server на существующем Hetzner dedicated (136.243.71.213)
[x] PostgreSQL 16 -- self-hosted на Hetzner (порт 5435, БД treejar)
[x] VPN-доступ для разработчика -- AmneziaWG конфиг создан (см. Issue #2)
```

### Нужно сейчас
```
[ ] OpenRouter -- зарегистрироваться, создать API Key, пополнить $10, передать ключ
```

### Нужно позже
```
[ ] Типичные возражения клиентов и ответы менеджеров (к неделе 3-4)
[ ] Таблица спеццен / скидок, если есть (к неделе 5-6)
[ ] Домен (опционально) -- настроить A-запись для treejar.starec.ai (к неделе 8)
[ ] Wazzup webhook -- настроим вместе после деплоя
[ ] Параметры реферальной программы (к неделе 12)
```

Если какой-то шаг вызывает трудности -- пишите, сделаем вместе на созвоне.
