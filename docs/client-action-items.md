# Что требуется от клиента для старта разработки

**Дата:** 2026-02-21
**Статус:** Оплата получена (150K), разработка стартует

---

## Краткая сводка

| # | Что нужно | Стоимость | Приоритет |
|---|-----------|-----------|-----------|
| 1 | VPS-сервер (Hetzner) | ~$10-15/мес | До старта |
| 2 | Supabase Cloud (база данных) | $0 (Free tier для MVP) | До старта |
| 3 | OpenRouter (AI-модели) | $10-20 для тестов | До старта |
| 4 | Zoho CRM API-ключ | Бесплатно (входит в тариф) | До старта |
| 5 | Zoho Inventory API-ключ | Бесплатно (входит в тариф) | До старта |
| 6 | Wazzup API-ключ + настройка webhook | Бесплатно (входит в тариф) | Неделя 2 |
| 7 | Домен для API (опционально) | ~500 руб/год | Неделя 3+ |

**Итого ежемесячно на инфраструктуру:** ~$20-40 (VPS + Supabase Free + OpenRouter по расходу)

---

## 1. VPS-сервер (Hetzner Cloud)

VPS -- это виртуальный сервер, на котором будет работать бот. Мы рекомендуем Hetzner -- немецкий хостинг с хорошим соотношением цены и качества.

### Что нам нужно от вас

Доступ к серверу (IP-адрес и root-пароль или SSH-ключ). Мы сами всё настроим.

### Пошаговая инструкция

**Шаг 1. Регистрация**
1. Откройте https://www.hetzner.com/cloud
2. Нажмите **Sign Up** (правый верхний угол)
3. Введите email и пароль
4. Подтвердите email (придёт письмо)
5. После входа Hetzner попросит привязать способ оплаты -- карту Visa/Mastercard или PayPal

**Шаг 2. Создание сервера**
1. После входа вы попадёте в **Cloud Console** (https://console.hetzner.cloud)
2. Нажмите **+ Create a Project** (если нужно), назовите его `treejar`
3. Внутри проекта нажмите **Add Server**
4. Выберите параметры:

| Параметр | Значение | Почему |
|----------|----------|--------|
| Location | **Helsinki** или **Falkenstein** | Ближе к Европе, хороший пинг до UAE |
| Image | **Ubuntu 24.04** | Стабильная ОС |
| Type | **CPX21** (3 vCPU, 4 GB RAM, 80 GB SSD) | Достаточно для MVP. Можно потом масштабировать |
| Networking | Public IPv4 + IPv6 | Оставить по умолчанию |
| SSH Key | Можно пропустить | Мы настроим сами |

5. Внизу страницы нажмите **Create & Buy Now**
6. Стоимость: около **$7-10/мес** (CPX21) или **$14-18/мес** (CPX31, если хотим запас)

**Шаг 3. Передайте нам данные**

После создания сервера на экране появится:
- **IP-адрес** (например: 167.235.XX.XX)
- **Root-пароль** (если не использовали SSH-ключ -- придёт на email)

Передайте нам эти данные через защищённый канал (см. раздел "Как безопасно передать ключи" внизу документа).

---

## 2. Supabase Cloud (база данных)

Supabase -- это облачная база данных PostgreSQL. Бесплатный тариф достаточен для разработки и тестирования.

### Что нам нужно от вас

Project URL, anon key, service_role key и Database Password.

### Пошаговая инструкция

**Шаг 1. Регистрация**
1. Откройте https://supabase.com
2. Нажмите **Start your project** (зелёная кнопка)
3. Нажмите **Continue with GitHub** или **Continue with Email**
   - Если выбрали Email: введите email и пароль, подтвердите email
   - Если выбрали GitHub: авторизуйте приложение Supabase

**Шаг 2. Создание организации**
1. После входа Supabase предложит создать Organization
2. Введите название: `Treejar`
3. Plan: выберите **Free** (0$/мес, 500 MB, 2 проекта)
4. Нажмите **Create organization**

**Шаг 3. Создание проекта**
1. Нажмите **New Project**
2. Заполните:

| Поле | Значение |
|------|----------|
| Name | `treejar-bot` |
| Database Password | Придумайте надёжный пароль (минимум 12 символов). **Обязательно сохраните его** -- потом его нельзя будет посмотреть! |
| Region | **Central EU (Frankfurt)** -- ближе к VPS |

3. Нажмите **Create new project**
4. Подождите 1-2 минуты, пока проект создаётся

**Шаг 4. Соберите данные для нас**

После создания проекта перейдите в **Settings** (значок шестерёнки в левом меню) > **API**:

| Что скопировать | Где найти |
|----------------|-----------|
| **Project URL** | Поле "Project URL" (выглядит как `https://xxxxxxxxxx.supabase.co`) |
| **anon public key** | В разделе "Project API keys" -- строка `anon` `public` |
| **service_role key** | Там же -- строка `service_role` `secret` (нажмите на иконку глаза, чтобы показать) |

Также нужен **Database Password**, который вы придумали на шаге 3.

Передайте нам эти 4 значения через защищённый канал.

**Шаг 5. Включение pgvector (опционально -- мы можем сделать сами)**
1. В левом меню нажмите **Database**
2. Перейдите во вкладку **Extensions**
3. В поиске введите `vector`
4. Найдите **vector** и нажмите переключатель, чтобы включить

---

## 3. OpenRouter (AI-модели)

OpenRouter -- это агрегатор AI-моделей (Claude, GPT-4, Gemini и др.) с единым API. Бот использует его для генерации ответов клиентам.

### Что нам нужно от вас

API Key и пополненный баланс ($10-20 для тестов).

### Пошаговая инструкция

**Шаг 1. Регистрация**
1. Откройте https://openrouter.ai
2. Нажмите **Sign In** (правый верхний угол)
3. Выберите способ входа: Google, GitHub или Email
4. Если выбрали Email -- введите адрес, придёт письмо с ссылкой для входа

**Шаг 2. Создание API-ключа**
1. После входа нажмите на аватарку (правый верхний угол) > **Keys**
2. Или перейдите напрямую: https://openrouter.ai/settings/keys
3. Нажмите **Create Key**
4. Введите название: `treejar-bot`
5. Нажмите **Create**
6. **Скопируйте ключ** (начинается с `sk-or-v1-...`). Он показывается только один раз!

**Шаг 3. Пополнение баланса**
1. Перейдите в **Settings** > **Credits** (или https://openrouter.ai/settings/credits)
2. Нажмите **Add Credits**
3. Введите сумму: **$10** (для начала этого достаточно)
4. Оплатите картой Visa/Mastercard

Передайте нам API Key через защищённый канал.

**Расход:** При тестировании ~$0.01-0.05 за диалог. $10 хватит на сотни тестовых диалогов. В production при 200 диалогов/день -- примерно $50-100/мес.

---

## 4. Zoho CRM -- API-ключ

API-ключ нужен, чтобы бот мог создавать контакты и сделки в вашем CRM автоматически.

### Что нам нужно от вас

Client ID, Client Secret и Refresh Token.

### Важно перед началом

- Убедитесь, что вы входите в Zoho под аккаунтом **администратора** (Admin)
- Определите ваш Zoho data center: если ваш Zoho открывается по адресу `crm.zoho.com` -- это US, если `crm.zoho.eu` -- это EU. Это важно!

### Пошаговая инструкция

**Шаг 1. Откройте Zoho API Console**
1. Перейдите на https://api-console.zoho.com (для US) или https://api-console.zoho.eu (для EU)
2. Войдите под тем же аккаунтом, что и в Zoho CRM

**Шаг 2. Создайте Self Client**
1. Нажмите **Add Client** (синяя кнопка)
2. Выберите тип: **Self Client**
3. Нажмите **Create Now**
4. Заполните:
   - Client Name: `Treejar AI Bot`
   - Homepage URL: `https://treejar.com`
   - Authorized Redirect URIs: `https://treejar.com` (это формальность, для Self Client не используется)
5. Нажмите **Create**

**Шаг 3. Скопируйте Client ID и Client Secret**
1. После создания откроется страница клиента
2. Скопируйте:
   - **Client ID** (длинная строка вида `1000.XXXXXXXXXXXXXXXXXXXXXXXXXXXX`)
   - **Client Secret** (нажмите на иконку глаза, чтобы показать)
3. Сохраните оба значения

**Шаг 4. Сгенерируйте Code (одноразовый)**
1. На странице Self Client перейдите во вкладку **Generate Code**
2. В поле **Scope** введите:
   ```
   ZohoCRM.modules.ALL,ZohoCRM.settings.ALL
   ```
3. В поле **Time Duration** выберите: **10 minutes**
4. В поле **Scope Description** введите: `Treejar AI Bot CRM access`
5. Нажмите **Create**
6. Zoho попросит выбрать портал -- выберите ваш (основной)
7. **Скопируйте Code** (он действителен 10 минут!)

**Шаг 5. Обменяйте Code на Refresh Token**

Этот шаг нужно выполнить в течение 10 минут после получения Code.

Откройте терминал (или Postman) и выполните запрос:

Для US (zoho.com):
```
POST https://accounts.zoho.com/oauth/v2/token
```

Для EU (zoho.eu):
```
POST https://accounts.zoho.eu/oauth/v2/token
```

С параметрами (form-data):
```
grant_type=authorization_code
client_id=ВАШ_CLIENT_ID
client_secret=ВАШ_CLIENT_SECRET
code=КОД_С_ШАГА_4
```

Если не умеете работать с терминалом, используйте **Postman** (бесплатный):
1. Скачайте Postman: https://www.postman.com/downloads/
2. Создайте новый запрос: **POST**
3. Введите URL (см. выше)
4. Вкладка **Body** > **x-www-form-urlencoded**
5. Добавьте 4 параметра (см. выше)
6. Нажмите **Send**

В ответе будет JSON:
```json
{
  "access_token": "...",
  "refresh_token": "1000.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  "token_type": "Bearer",
  "expires_in": 3600
}
```

**Скопируйте `refresh_token`** -- он бессрочный и именно его нам нужно передать.

**Если вам сложно выполнить шаг 5** -- просто передайте нам Client ID, Client Secret и Code сразу после генерации (у нас будет 10 минут). Мы сами получим Refresh Token.

---

## 5. Zoho Inventory -- API-ключ

Если у вас **Zoho One** (единый пакет), то Client ID и Client Secret будут те же, что и для CRM. Нужно только сгенерировать отдельный Refresh Token с другими правами.

Если Zoho CRM и Inventory -- отдельные подписки, повторите весь процесс из раздела 4.

### Что нам нужно от вас

Client ID, Client Secret, Refresh Token и Organization ID.

### Пошаговая инструкция

**Шаг 1-3: те же, что в разделе 4** (если уже создали Self Client -- используйте его же)

**Шаг 4. Сгенерируйте Code с правами Inventory**
1. На странице Self Client > вкладка **Generate Code**
2. В поле **Scope** введите:
   ```
   ZohoInventory.items.READ,ZohoInventory.salesorders.CREATE,ZohoInventory.salesorders.READ,ZohoInventory.settings.READ
   ```
3. Time Duration: **10 minutes**
4. Нажмите **Create**, скопируйте Code
5. Обменяйте на Refresh Token (как в шаге 5 раздела 4)

**Шаг 5. Найдите Organization ID**
1. Войдите в Zoho Inventory: https://inventory.zoho.com (или .eu)
2. Нажмите на значок шестерёнки (Settings) в правом верхнем углу
3. Перейдите в **Organization Profile**
4. **Organization ID** отображается в URL-строке:
   `https://inventory.zoho.com/app/ВАША_ORG_ID/...`
   Или явно на странице профиля организации

Передайте нам: Client ID, Client Secret, Refresh Token и Organization ID.

---

## 6. Wazzup -- API-ключ и настройка Webhook

Wazzup -- это WhatsApp-шлюз, через который бот принимает и отправляет сообщения.

### Что нам нужно от вас

API Key и Channel ID. Настройка webhook -- позже, когда сервер будет готов.

### Пошаговая инструкция

**Шаг 1. Получите API Key**
1. Войдите в личный кабинет Wazzup: https://app.wazzup24.com
2. В левом меню нажмите **Integrations** (или "Интеграции")
3. Нажмите **API** (или найдите раздел "API-ключи")
4. Если ключ уже есть -- скопируйте его
5. Если нет -- нажмите **Create API Key** / **Создать ключ**
6. Скопируйте ключ

**Шаг 2. Найдите Channel ID**
1. В личном кабинете перейдите в **Channels** / **Каналы**
2. Найдите ваш подключённый WhatsApp-канал
3. Скопируйте его ID (обычно отображается в настройках канала или в URL)

**Шаг 3. Настройка Webhook (позже, когда сервер готов)**

Этот шаг мы сделаем вместе, когда VPS будет настроен.

1. В личном кабинете перейдите в **Settings** / **Настройки** > **Webhooks**
2. В поле URL введите адрес, который мы вам дадим (вида `https://api.treejar.com/api/v1/webhook/wazzup` или `https://167.235.XX.XX/api/v1/webhook/wazzup`)
3. Убедитесь, что включены события: **Incoming messages** (входящие сообщения)
4. Нажмите **Save** / **Сохранить**

**Шаг 4. Проверьте тариф и лимиты**
1. В разделе **Billing** / **Тарифы** проверьте:
   - Какой тариф подключён
   - Сколько номеров WhatsApp подключено
   - Есть ли ограничения на количество сообщений
2. Сообщите нам эту информацию

---

## 7. Домен для API (опционально)

Домен нужен для HTTPS-адреса бота (например, `api.treejar.com`). На первом этапе можно обойтись IP-адресом сервера -- бот будет работать и так.

### Если решите настроить домен

**Вариант A: Поддомен от существующего домена (рекомендуется)**

Если у вас уже есть домен `treejar.com`:
1. Войдите в панель управления DNS вашего домена (GoDaddy, Namecheap, Cloudflare и т.д.)
2. Добавьте **A-запись**:
   - Type: `A`
   - Name: `api` (или `bot`)
   - Value: IP-адрес VPS (мы дадим)
   - TTL: 3600
3. Сохраните. DNS обновится в течение 5-60 минут

**Вариант B: Новый домен**

Если отдельного домена нет:
1. Откройте https://www.namecheap.com или любой регистратор
2. Найдите и купите домен (например, `treejar-bot.com`)
3. В DNS-настройках добавьте A-запись (как в варианте A)

**Вариант C: Без домена**

Пока не настраиваете домен -- бот будет доступен по IP-адресу. Мы настроим SSL-сертификат и HTTPS в любом случае.

---

## Как безопасно передать ключи и пароли

**Не отправляйте ключи через обычный email, WhatsApp или SMS.**

Рекомендуемые способы:

| Способ | Как использовать |
|--------|-----------------|
| **Password Pusher** (самый простой) | Откройте https://pwpush.com, вставьте текст с ключами, установите "Expire after 1 view", нажмите Submit, отправьте нам ссылку |
| **1Password / Bitwarden** | Создайте Secure Note с ключами и поделитесь через встроенную функцию Share |
| **Telegram** (Secret Chat) | Откройте диалог со мной в Telegram > три точки > Start Secret Chat. Сообщения удалятся автоматически |

---

## Итоговый чек-лист

Отмечайте по мере выполнения:

```
[ ] 1. Hetzner Cloud -- зарегистрировался, создал сервер, передал IP и пароль
[ ] 2. Supabase -- зарегистрировался, создал проект, передал URL + ключи + пароль БД
[ ] 3. OpenRouter -- зарегистрировался, создал API Key, пополнил $10, передал ключ
[ ] 4. Zoho CRM -- создал Self Client, передал Client ID + Secret + Refresh Token
[ ] 5. Zoho Inventory -- передал Refresh Token + Organization ID
[ ] 6. Wazzup -- передал API Key + Channel ID
[ ] 7. Домен (опционально) -- настроил A-запись или решил пока обойтись без домена
```

Как только все пункты готовы -- мы подключаем всё к серверу и начинаем интеграцию. Если какой-то шаг вызывает трудности -- пишите, сделаем вместе.
